<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="dark"><title>My Setup | Daniel Martins</title><link rel=stylesheet href=/sass/main.min.4e90cee935c47394b47f9cb7ffe8e3ffab18b88d82fea203918cc3f92eec5eb2.css></head><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/><span class=emoji>üë®‚Äçüíª</span>
Daniel Martins</a></div><div class=flex><a href=/>Blog</a>
<a href=/my-setup/ aria-current=page>My Setup</a>
<a href=/about/>About</a>
<button id=dark-mode-button></button></div></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>My Setup</h1><div class=post-meta><div>By Daniel Martins on <time>March 22, 2021</time></div><div class=tags><a href=/tags/setup/>setup</a>
<a href=/tags/hardware/>hardware</a>
<a href=/tags/software/>software</a></div></div></div></div></header></article><div class=article-post><p>Not that anyone&rsquo;s interested in this, but I thought about sharing more information about my setup and how it&rsquo;s working for me, so here it is.</p><p><strong>Note:</strong> This is a work in progress and things keeps changing all the time, so the information below is most likely outdated.</p><h3 id=hardware>Hardware</h3><h4 id=lenovo-thinkpad-t480>Lenovo Thinkpad T480</h4><p>I use a <a href=https://www.laptopmag.com/reviews/laptops/lenovo-thinkpad-t480>Thinkpad T480</a> running Arch Linux as my daily driver.</p><p>My current installation has a little more focus on security and privacy than previous iterations, so I spent a little more time setting up Secure Boot with my own keys, <a href=https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system#LVM_on_LUKS>LVM on LUKS</a> for full disk encryption, two-factor authentication during login with pamu2f + <a href=https://www.yubico.com/>YubiKey</a> (I also have a <a href=https://www.ledger.com/>Ledger Nano S</a> as a backup) and <code>ufw</code> firewall configuration that denies all traffic except for the ones I explicitly want. I also try to keep a VPN running at all times, but I&rsquo;m still evolving this bit.</p><p>I keep the <a href=https://github.com/danielfm/archlinux-workstation>machine configuration with Ansible</a>, which was particularly useful when I had two laptops (the other one was an old Dell which is now in use by my partner after her laptop went dead) that I wanted to run with the same configuration.</p><h5 id=things-to-improve>Things to improve</h5><p>I want to migrate to the <a href=https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system#Btrfs_subvolumes_with_swap>Btrfs</a>, which has native support for snapshots. This is a nice feature to have in order to protect against upgrade issues.</p><p>In one occasion, I interrupted the upgrade process by mistake, which caused the kernel images from not being generated, and the system stopped booting. Luckily I had taken a snapshot with <a href=https://github.com/teejee2008/timeshift>Timeshift</a> prior to upgrading, and I was able to restore the snapshot, but the process of taking and restoring snapshots is much easier and faster in Btrfs. I could even take snapshots automatically before applying system updates.</p><p>Going slightly off-topic, I would also like to experiment with VPN router devices in order to make VPN usage simpler and more pervasive in my household.</p><h4 id=monitors>Monitors</h4><table><thead><tr><th>Model</th><th style=text-align:center>Size</th><th>Resolution</th><th>Refresh rate</th><th>Position</th></tr></thead><tbody><tr><td>LG Ultrawide 29WK500/50S</td><td style=text-align:center>29"</td><td>2560x1080</td><td>60Hz</td><td>Landscape</td></tr><tr><td>Dell U2412M</td><td style=text-align:center>24"</td><td>1920x1200</td><td>60Hz</td><td>Portrait</td></tr></tbody></table><p>It&rsquo;s impossible for me to work with just the laptop built-in display.</p><p>I like to use the display in portrait position for reading articles and the other one for splitting between text editor, web browsers and terminal windows, all that arranged in different workspaces. I use a <a href=https://i3wm.org/>i3wm</a>, a tiling window manager for simplifying the task of navigating between the different windows in different workspaces and displays with the keyboard.</p><h5 id=things-to-improve-1>Things to improve</h5><p>This LG is crap. At least I got it cheap. The plastic cover is fragile and the matte surface scratches easily. Also, I currently have an issue where the monitor turns off right after turning it on, especially after using the monitor for several hours straight. The problem goes away after disconnecting the display from the power supply for a few hours. It&rsquo;s really annoying.</p><p>The Dell display is very good, but it&rsquo;s starting to age.</p><p>Someday I&rsquo;ll buy myself a couple of 4k displays and perhaps some adjustable monitor arms.</p><h4 id=ergodox-ez-keyboard>ErgoDox EZ Keyboard</h4><p>A few years back, I used a Macbook Pro as my work computer. I was one of the many users that were affected by the terrible build quality of the built-in &ldquo;butterfly&rdquo; keyboard, so I began considering using an external keyboard.</p><p>Regarding the ergonomics, one issue I had was occasional shoulder and wrist pain, which was most likely caused by the effort I had to make to keep my fingers lined up with the key rows while touch typing. Also, as an old <a href=https://www.gnu.org/software/emacs/>Emacs</a> user, other common cause of pain was the infamous <a href=https://ergoemacs.org/emacs/emacs_pinky.html>Emacs pinky</a>. I tried to do the usual change of mapping the <code>Caps Lock</code> key to <code>Ctrl</code>, to make the key easier to reach, but that only helped so much.</p><p>After some research, I decided to purchase myself a programmable split keyboard, and the one I chose was the <a href=https://ergodox-ez.com/>ErgoDox EZ</a>.</p><p>With ErgoDox EZ, I managed to move the <code>Ctrl</code> key to my thumbs, causing much less strain on my pinkies. I also heavily changed the default layout to fit my needs. To do that, I used <a href=https://whatpulse.org/>WhatPulse</a> for a while, in order to identify the most pressed keys and gradually changing the keyboard layout towards better ergonomics for my usage. Now I can type for hours straight without busting my arms and hands.</p><p>The keyboard is built like a tank. It will probably outlive every other piece of hardware I have, so the high price tag is definitely worth it!</p><h5 id=things-to-improve-2>Things to improve</h5><p>Nothing so far.</p><h4 id=kensington-orbit-trackball>Kensington Orbit Trackball</h4><p>By using an external keyboard, I had to start using an external pointing device. I used an old Microsoft mouse for a while before getting myself a <a href=https://www.kensington.com/p/products/electronic-control-solutions/trackball-products/orbit-trackball-with-scroll-ring/>Kensington Orbit</a> trackball.</p><p>At first, I considered buying myself a Magic Trackpad 2 but one of these is way too expensive here in Brazil. In the end I decided to try a trackball, which is something I was curious about and wanted to try for quite some time.</p><p>This was a nice ergonomics improvement, as I don&rsquo;t have to move my arm around in order to move the pointer. It took me a few weeks to regain the same precision I had when using a traditional mouse or trackpad device, but I feel much more comfortable now.</p><h5 id=things-to-improve-3>Things to improve</h5><p>The Orbit build quality is also very good. The only downside for me was the scroll ring rubber cover, which sometimes gets in the way when spinning the scroll ring and builds up grease and dirt. I eventually removed the rubber, as you can see in the picture below.</p><figure><img src=/images/my-setup/keyboard-trackpad.jpg alt="ErgoDox EZ and Kensington Orbit trackpad"><figcaption><p>The power duo.</p></figcaption></figure><p>If a nice trackpad wasn&rsquo;t so damn expensive around here, I would give that a try.</p><h4 id=xiaomi-mi-a2-android-phone>Xiaomi Mi A2 Android Phone</h4><p>After playing around with custom Android ROMs for a while in my old Samsung J7, I decided I wanted to try a more security and privacy oriented ROM, and <a href=https://calyxos.org/>CalyxOS</a> caught my attention.</p><p>It&rsquo;s supposed to offer similar security features as <a href=https://grapheneos.org/>GrapheneOS</a>, at least for my threat model, but without compromising usability, so I would still be able to use apps for banking, food delivery, and others that require Google Services to work.</p><p>Since I was short on money, I decided to buy myself a Xiaomi Mi A2, which is the only budget phone supported by CalyxOS.</p><p>CalyxOS is very stable, and the fact it&rsquo;s not running Google bloatware makes the battery last longer, which is a plus in a device with more limited battery capacity like this.</p><h5 id=things-to-improve-4>Things to improve</h5><p>I thought the lack of NFC and a headphone jack wouldn&rsquo;t be too much trouble, but I kind of regret that decision.</p><p>My next phone will be a second-hand Pixel, or whatever device CalyxOS will happen to support in the future.</p><h4 id=yubikey-5-nfc-and-ledger-nano-s>YubiKey 5 NFC and Ledger Nano S</h4><p>I use <a href=https://www.yubico.com/>YubiKey</a> as my main hardware token, and keep the Ledger Nano in a safe place as a backup. I might buy myself another YubiKey in the future and keep the Ledger only for handling cryptocurrencies.</p><p>The YubiKey build quality is great. The performance is decent (much faster than in Leger Nano S), and I feel much safer using these devices than I felt when I had to rely on other methods for multi-factor verification. I also no longer have to keep private SSH and PGP keys available in my computer&rsquo;s file system, and the U2F / WebAuthn support is great.</p><p>The PGP support in the Series 5 key is nice and enables me to use these devices for a lot of different things, such as authenticating to remote machines, signing/encrypting messages, managing passwords, etc.</p><p>Aside from the obvious usage scenarios, I also use the hardware tokens in my local machine as a second factor and for authenticating <code>sudo</code>.</p><h5 id=things-to-improve-5>Things to improve</h5><p>The only thing I wish is for more services to properly support hardware tokens and standards like WebAuthn. There are still a lot of sensitive services that still rely on TOTP as second factor (like ProtonMail) and this drives me crazy.</p><h3 id=software>Software</h3><h4 id=desktop>Desktop</h4><p>I use <a href=https://i3wm.org/>i3wm</a> as the window manager, which helps me spread editors, terminals, browsers and other apps across the different displays and navigate between them quickly without leaving the keyboard.</p><p>More details on how my desktop is configured can be found in <a href=https://github.com/danielfm/archlinux-workstation>this Ansible configuration</a>.</p><figure><img src=https://github.com/danielfm/archlinux-workstation/raw/master/screenshot.png alt="My i3wm configuration with some windows"><figcaption><p>Desktop screenshot, possibly outdated.</p></figcaption></figure><h5 id=things-to-improve-6>Things to improve</h5><p>Nothing in particular, but I keep trying small changes to my workflow to see how that affects my productivity.</p><h4 id=calyxos>CalyxOS</h4><p>I use the same device both for work and my personal life. In order to separate the two, I use the <a href=https://f-droid.org/en/packages/net.typeblog.shelter/>Shelter app</a> for cloning apps into the work profile and install other apps required for my work from there, such as Slack, <a href=https://bitwarden.com>Bitwarden</a> and a VPN service.</p><p>I also try to keep privacy-invasive apps in the work profile as well, as this is kept disabled most of the time. The work profile is also configured with always-on VPN to ensure all work related traffic flows through an encrypted tunnel. The VPN service I use also supports a kill switch, so that no traffic is allowed unless the VPN is up and running.</p><p>I don&rsquo;t keep a Google account signed in this device for extended periods of time. I think I only logged in once so I could restore the Whatsapp backup after switching phones, but logged out right after. For things like push notifications and location services, microg works well enough.</p><p>My personal profile also have an always-on VPN with a kill switch enabled.</p><p>Some of the apps I use regularly: <a href=https://f-droid.org/en/packages/de.danoeh.antennapod/>AntennaPod</a>, Bromite, <a href=https://f-droid.org/en/packages/at.bitfire.davdroid/>DAVx5</a>, <a href=https://f-droid.org/en/packages/im.vector.app/>Element</a>, <a href=https://f-droid.org/en/packages/ml.docilealligator.infinityforreddit/>Infinity</a>, <a href=https://f-droid.org/en/packages/org.schabi.newpipe/>NewPipe</a>, <a href=https://f-droid.org/en/packages/com.nextcloud.client/>NextCloud</a>, <a href=https://f-droid.org/en/packages/org.dmfs.tasks/>OpenTasks</a>, <a href=https://f-droid.org/en/packages/com.orgzly/>Orgzly</a>, <a href=https://f-droid.org/en/packages/dev.msfjarvis.aps/>Password Store</a>, Signal, <a href=https://f-droid.org/en/packages/com.yubico.yubioath/>Yubico Authenticator</a>.</p><h5 id=things-to-improve-7>Things to improve</h5><p>Nothing. All apps I need work 100% in CalyxOS. I don&rsquo;t have to give up anything in order to have some privacy.</p><p>Actually, I only had to give up using Android Auto in my car console, but it seems CalyxOS team is working to support even that!</p><h3 id=vpn-services>VPN Services</h3><h4 id=private-internet-access>Private Internet Access</h4><p><a href=https://privateinternetaccess.com>PIA</a> offers good trade-off between privacy, security and price, at least for my threat model. Before that I used <a href=https://mullvad.net>Mullvad</a>, which is awesome, but a bit too expensive for someone who doesn&rsquo;t get paid in USD/EUR like me.</p><h3 id=self-hosted-services>Self-Hosted Services</h3><h4 id=nextcloud>NextCloud</h4><p>I started self-hosting <a href=https://nextcloud.com/>NextCloud</a> as a way to stop relying on a single vendor (Google) for almost all my data.</p><p>The NextCloud Android app, together with OpenTasks and DAVx5, work well for automatically uploading all pictures and videos I take with my smartphone, as well as syncing task, calendar and contact information on a regular basis. It works so well that I&rsquo;m not afraid of wiping out my smartphone for trying different Android ROMs, which was something I did quite frequently before I tried CalyxOS.</p><p>In my desktop, the NextCloud app keeps syncing those files to my main computer, so I have at least one copy of all important files. I also run a separate daily backup process via <a href=https://wiki.gnome.org/Apps/DejaDup>DejaDup</a> that encrypts and uploads all critical data to a S3 bucket via the NextCloud Webdav interface, for redundancy.</p><h5 id=things-to-improve-8>Things to improve</h5><p>NextCloud is great, but it&rsquo;s not a perfect replacement for all Google products, such as Photos, but I&rsquo;m willing to make compromises if that makes me less overly dependent on a couple service provider for all my data.</p><p>I&rsquo;ll maybe try different solutions for photo/video management and sharing, but this is not bothering me so much at the moment.</p></div></div><div class=container></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links><a href=/daniel_martins.asc>PGP</a>
<a href=/index.xml>RSS</a></nav></section><script async src=/js/features.min.c5d8f3350f5a652f526b982306299353824299adb7a3bd261ecffacc47087f66.js></script></footer></body></html>